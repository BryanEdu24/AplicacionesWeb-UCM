<!DOCTYPE html>
<html lang="en">
    <head>
        <%- include("head") %>
        <link rel="shortcut icon" href="images/AtencionUsuarioIcon.png">
        <!-- Para la navbar: (menu despegable Cerrar SesiÃ³n) -->
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-p34f1UUtsS3wqzfto5wAAmdvj+osOnFyQFpp4Ua3gs/ZVWx6oOypYoCJhGGScy+8" crossorigin="anonymous"></script> 
        <link rel="stylesheet" href="stylesheets/navbar.css" media="screen">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.13.0/css/all.min.css" integrity="sha256-h20CPZ0QyXlBuAw7A+KluUYx/3pK+c7lYEpqLTlxjYQ=" crossorigin="anonymous" />
    </head>

    <nav class="row bg-dark fixed">
        <div class="d-flex justify-content-between align-items-center">
            <div class="logoUCM">
                <a href="https://ucm.es/">
                    <img src="images/logoUCMVector.svg" title="www.ucm.es" alt="Logo de la UCM" width="75" height="75">
                </a>
            </div>
            <div class="tituloYSubtitulo text-center">
                <h4><strong>UCM - CAU</strong></h4>
                <h5><strong>Centro de AtenciÃ³n al Usuario</strong></h5>
            </div>
            <div class="perfilUsuario d-flex align-items-center">
                <span class="nombreUsuario">
                    <%= nameUser %>&#8195	
                </span>
                <div class="dropdown ">
                    <button class="btn dropdown-toggle" data-bs-toggle="dropdown">
                        <img class="rounded-circle fotoPerfil" src="images/<%=idUser%>" alt="Foto del Usuario" width="75" height="75"/>
                    </button>
                    <ul class="dropdown-menu dropdown-menu-end bg-dark">
                        <li>
                            <div class="dropdown-item perfil d-flex justify-content-between" data-bs-toggle="modal" data-bs-target="#modalPerfil">
                                Perfil
                                <span><img src="images/usuarioBlancoVector.svg" alt="Perfil Usuario" width="25" height="25"></span>
                            </div>
                        </li>
                        <li title="Cerrar SesiÃ³n">
                            <a class="dropdown-item cerrarSesion d-flex justify-content-between" href="./logOut.html">
                                Cerrar SesiÃ³n	
                                <span><img src="images/logOutVector.svg" alt="Log-Out" width="25" height="25"></span>
                            </a>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </nav>
    
    <script>
        window.addEventListener("load", function() {
           // icono para mostrar contraseÃ±a
           showPassword = document.querySelector('.show-password');
           showPassword.addEventListener('click', () => {
               // elementos input de tipo clave
               contrasenia = document.querySelector('.contraModal');

               if (contrasenia.type === "text") {
                   contrasenia.type = "password"
                   showPassword.classList.toggle("fa-eye-slash");
               } else {
                   contrasenia.type = "text"
                   showPassword.classList.remove('fa-eye-slash');
                   showPassword.classList.remove('fa-eye');
                }
           })
        });
   </script>

    <!-- Modal para Pefil Usuario -->
    <div class="modal fade" id="modalPerfil">
        <div class="modal-dialog modal-lg modal-dialog-centered">
            <div class="modal-content">
                <!-- cuerpo del diÃ¡logo -->
                <div class="modal-body">
                    <div class="fotoSuperpuesta">
                        <img class="rounded-circle fotoPerfilModal" src="images/<%=idUser%>" alt="Foto del Usuario" width="100" height="100"/>
                    </div>
                    <h4 class="text-center nameModal"><%=nameUser  %></h4>

                    <div class="d-flex align-items-center justify-content-center">
                        <div>
                            <% %>

                            <div class="fechaCreacionModal"><h5>ðŸ”¹<strong> Fecha de creaciÃ³n: </strong><%=date %> </h5></div>
                           
                            <div class="perfilModal"><h5>ðŸ”¹<strong>Tipo de perfil: </strong><%= rol %></h5></div>
                            <div class="contraseniaModal">
                                <h5 class="d-flex justify-content-between align-items-center">
                                    <strong>ðŸ”¹ContraseÃ±a: </strong>
                                    <input type="password" name="contraModal" class="contraModal" value="<%= password %>" disabled />
                                    <span class="fa fa-fw fa-eye password-icon show-password" title="Mostrar/Ocultar ContraseÃ±a"></span>
                                </h5>
                            </div>
                            <div class="nameUserModal"><h5>ðŸ”¹<strong>Nombre Usuario: </strong><%= nameUser %></h5></div>
                        </div>
                        <div class="datosAvisosModal">
                            <div class="">
                                <h5>
                                    ðŸ”¹<strong> Datos de Avisos: </strong>
                                </h5>
                            </div>
                            <div class="ms-4">
                                <h5>â—½<strong> Avisos realizados: </strong>20</h5>
                                <h5>â—½<strong> Incidencias: </strong>15</h5>
                                <h5>â—½<strong> Sugerencias: </strong>3</h5>
                                <h5>â—½<strong> Felicitaciones: </strong>2</h5>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- pie del diÃ¡logo -->
                <div class="modal-footer borrarborde">
                    <button type="button" class="btn btnCerrarPerfil" data-bs-dismiss="modal">Cerrar</button>
                </div>
            </div>
        </div>
    </div>

</html>